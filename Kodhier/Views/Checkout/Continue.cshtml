@model Kodhier.ViewModels.ConfirmCheckoutViewModel

@{
    ViewData["Title"] = "Continue";
}

<link rel="stylesheet" type="text/css" href="~/css/Checkout.css" />
<script>
    var geocoder;
    var map;
    function initMap() {
        geocoder = new google.maps.Geocoder();
        var latlng = new google.maps.LatLng(54.9049311, 23.9544675);
        var mapOptions = {
            zoom: 15,
            center: latlng
        }
        map = new google.maps.Map(document.getElementById('map'), mapOptions);

        //viewAddress();
    }

    function viewAddress() {
        var address = document.getElementById('address').value;
        geocoder.geocode({ 'address': address }, function (results, status) {
            if (status == 'OK') {
                map.setCenter(results[0].geometry.location);
                var marker = new google.maps.Marker({
                    map: map,
                    position: results[0].geometry.location
                });
            } else {
                alert('There was a problem displaying the adress: ' + status);
            }
        });
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAHhtemjR5x_jVhJc-vPt7lRJMkVOVb4xw&callback=initMap">
</script>
<header>
    <h1>CHECKOUT</h1>
</header>
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="modal-header">
                <h4>ORDER SUMMARY</h4>
            </div>
            <br />
            Total: @(Model.Price) coins&trade;

        </div>
        <div class="col-md-9">
            <div class="modal-header">
                <h4>DELIVERY DETAILS</h4>
            </div>
            <div class="row">
                <div class="col-md-5">
                    <form asp-action="Confirm" method="post">
                        <br />
                        SHIPPING ADDRESS: <input type="text" id="address" name="confirmAddress" class="form-control"
                                                 placeholder=" SHIPPING ADDRESS" value="@(Model.ConfirmAddress)" onblur="viewAddress()" style="margin-top:5px" />
                        <input type="submit" value="PLACE ORDER" class="btn btn-success btn-block" style="margin-top:5px" />
                        <a asp-action="Index" class="btn btn-warning btn-block" style="margin-top:5px" >Back</a>
                    </form>

                </div>
                <div class="col-md-7">
                    <br />                 
                    <div id="map" style="width: 470px; height: 470px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>
@foreach (var item in Model.CheckoutList)
{
    //    <span></span><br />
}